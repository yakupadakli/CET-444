@model CollaborativeLearning.Entities.Semester
@{
    ViewBag.Title = "Semester";
}
<br />
@if (ViewBag.Message == "true")
{
    if (ViewBag.MessageType == "SuccessAddSemester")
    {
        <text>
            <div class="alert alert-warning alert-dismissable" id="CreateSemesterSuccess">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                <strong>Well Done!</strong>@ViewBag.Alert
            </div>
        </text>
    }
    if (ViewBag.MessageType == "FailureAddSemester")
    {
        <text>
            <div class="alert alert-warning alert-dismissable" id="CreateSemesterFailure">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                <strong>Oh Snap!</strong> @ViewBag.Alert
            </div>

        </text>
    }
}

<div class="panel panel-default">
    <div class="panel-body">
        <div class="row">
            <div class="col-lg-6">
                <div class="span6">
                    <button type="button" class="btn btn-primary btn-sm" 
                            data-toggle="modal" data-target="#modal_semesterCreate">
                        <span class="glyphicon glyphicon-plus"></span> Add Semester
                    </button>
                </div>
            </div>
            <div class="col-lg-6 rightColumn">
                @Html.Action("_PartialGoToSemester", "Semester")
            </div>
        </div>
        <div class="row">
            <div id="CreateSemesterPartialDiv">
                <div class="col-lg-6 rightColumn">
                    @Html.Action("_PartialCreate", "Semester")
                </div>
            </div>
        </div>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-body">
        <table id="SemesterTable" class="table table-hover table-condensed">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Semester Name</th>
                    <th>Registration Code</th>
                    <th>Mentor Code</th>
                    <th>Groups Count</th>
                    <th>Students Count</th>
                    <th>Mentors Count</th>
                    <th>Active</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody class="clearfix"></tbody>
        </table>
    </div>
</div>
    

<script>

    $(document).ready(function () {

        $('#SemesterTable').dataTable({
            "bProcessing": true,
            "bServerSide": true,
            "sAjaxSource": "Semester/SemesterAjaxHandler",
            "aoColumns": [
                    {
                        "mData": "Id",
                        "bSearchable": false,
                        "bSortable": false,
                    },
                     {
                         "mData": "SemesterName",
                         "fnRender": function (oObj) {
                             return "<a href='/Semester/SelectSemester/" + oObj.aData.Id + "' >" + oObj.aData.SemesterName + "</a>"
                         }
                     },
                     { "mData": "Registration" },
                     { "mData": "MentorCode" },
                     { "mData": "Group" },
                     { "mData": "Students" },
                     { "mData": "Mentors" },
                     { "mData": "Active" },
                     {
                         "mData": "Action",
                         "fnRender": function (oObj) {
                             return "<a href='#' id='" + oObj.aData.Id + "' class='deneme btn btn-default btn-xs' " +
                                    "data-toggle='modal' data-target='#myModal'>" +
                                      "<span class='glyphicon glyphicon-pencil'></span> Edit" +
                                    "</a>" +
                                    "<a href='#' type='button' class='btn btn-default btn-xs'>" +
                                      "<span class='glyphicon glyphicon-remove'></span> Delete" +
                                    "</a>";
                         }
                     }
            ]
        });
    });
</script>

